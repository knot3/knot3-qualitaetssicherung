% !TeX encoding = UTF-8
%



\newpage



\section{Werkzeuge}
\label{Abschnitt:Tests:Werkzeuge}

Zur Testdurchführung helfen uns einige Werkzeuge. Wichtig bei deren Wahl waren uns folgende Kriterien:\\

\begin{itemize}

	\item Kostenlos (für studentische Projekte)
	\item Aktuell
	\item Open-Source
	\item In Visual Studio integrierbar
	\item Mit Git(-Hub) verwendbar

\end{itemize}

~\\

Eine Anleitung über die Integration und Verwendung der Werkzeuge und hilfreiche Links haben wir auf GitHub im Wiki unseres Projekts zusammengefasst. Lokal, unter Visual Studio installierte Werkzeuge sind NUnit, OpenCover und ReportGenerator. Für deren Integration in Visual Studio sind NuGet Pakete verfügbar. Um die drei Werkzeuge in Visual Studio verwenden zu können, müssen sie auch aufeinander abgestimmt werden. Dazu sind  Build-Skripte nötig. Unter Windows übernimmt diese Aufgabe bei uns eine einfache Stapelverarbeitungsdatei. Die \glqq Batch\grqq-Datei läuft beim Erstellen des Testabdeckungsberichts in Visual Studio oder lässt sich direkt ausführen - der \hyperref[Abb:Werkzeuge:Coverage_Build_Batch]{\mousecursor~Screenshot im Anhang} zeigt den Ablauf.\\

Einerseits war es uns wichtig die Werkzeuge lokal bei jedem Entwickler verfügbar zu machen. Andererseits ist die individuelle Erstellung und Ausführung von Tests alleine sehr zeitaufwendig. Deshalb setzen wir zusätzlich Automatismen ein, \hyperref[Abschnitt:Tests:Werkzeuge:Automatisiert]{\mousecursor~siehe Abschnitt \ref{Abschnitt:Tests:Werkzeuge:Automatisiert}, ab S. \pageref{Abschnitt:Tests:Werkzeuge:Automatisiert}}.
\\



% Manuell

\subsection{Manuell}
\label{Abschnitt:Programmfehler:Werkzeuge:Manuell}

Werkzeuge die uns beim Schreiben und Auswerten der Tests manuell unterstützen.
\\
\\

\begin{description}

	\item[NUnit], \textit{V. 2.6.3}\hfill
	\\
	\\
	NUnit ist ein Framework für Komponententests für alle .NET-Sprachen.
	
	\begin{tabbing}
		Internetseite:
		\= ~ \href {http://www.nunit.org/}
	    	       {http://www.nunit.org/}
	    \\
	\end{tabbing}
	
	\item[MonoGame-SDL2], \textit{Aktuelle Git-Version}\hfill
	\\
	\\
	Ein Branch/Fork von MonoGame, der eine saubere quelloffene Neuimplementierung von XNA auf Basis von SDL2 ist und eine erweiterte API besitzt.
	
	\begin{tabbing}
		Internetseite:
		\= ~ \href {https://github.com/flibitijibibo/MonoGame}
	    	       {https://github.com/flibitijibibo/MonoGame}
	    \\
		Die von uns verwendete Version:
		\= ~ \href {https://github.com/tobiasschulz/MonoGame}
	    	       {https://github.com/tobiasschulz/MonoGame}
	    \\
	\end{tabbing}
	
	\item[MonoDevelop / Xamarin Studio], \textit{V. 4.2.2}\hfill
	\\
	\\
	Eine integrierte Entwicklungsumgebung, die im Rahmen des Mono-Projektes als Open-Source entwickelt wird und unter Linux und Windows verwendet werden kann.
	Sie wird von uns zur Kompilierung von Knot3 mit MonoGame statt mit XNA genutzt und ist bei der Entwicklung unter Linux ein vollwertiger Ersatz für Visual Studio.
	Die Linux-Version heißt MonoDevelop und die Windows-Version wird von der Firma Xamarin, die das Mono-Projekt leitet, unter dem Namen Xamarin Studio vermarktet.
	
	\begin{tabbing}
		Internetseite:
		\= ~ \href {http://monodevelop.com/download}
	    	       {http://monodevelop.com/download}
	    \\
	\end{tabbing}
	
	\item[Knot3 Visual Tests]\hfill
	\\
	\\
	Ein Tool, das die Zeit misst, die zur Darstellung von Konten benötigt wird. Dabei kann die Anzahl der Kanten des zu generierenden Knotens eingestellt werden
	und es werden die Frames pro Sekunde sowie die Zeit, die zum Zeichnen benötigt wird, anzeigt. Das Tool ist nur mit MonoGame und MonoDevelop und nicht mit XNA kompatibel.
	
\end{description}



\clearpage



% Automatisiert

\subsection{Automatisiert}
\label{Abschnitt:Tests:Werkzeuge:Automatisiert}

Zusätzlich verwenden wir serverseitige, automatisierte Dienste für Testdurchläufe und die Erstellung von Berichten, welche so ständig auf den neuesten Stand gebracht werden. Die Ergebnisse sind online abrufbar. Über bestandene und fehlgeschlagene Tests werden zudem durch einen Benachrichtigungsservice bei jeder Änderung E-Mails an die Entwickler versandt.
\\
\\


\begin{description}

\item[Visual Studio Test-Explorer], \textit{VS-V. 12.0.21005.1}\hfill
	\\
	\\
	Die Entwicklungsumgebung Visual Studio unterstützt uns beim Durchführen der Tests und stellt die Ergebnisse der NUnit-Komponententests grafisch im Test-Explorer dar.
	\\\\

\item[MonoDevelop NUnit Add-in], \textit{VS-V. 4.0.12}\hfill
	\\
	\\
	Die Entwicklungsumgebung MonoDevelop unterstützt uns beim Durchführen der Tests und stellt die Ergebnisse der NUnit-Komponententests grafisch im mit MonoDevelop mitgelieferten NUnit-Add-in dar.
	\\\\


% OpenCover

\phantomsection
\label{Abschnitt:Tests:Werkzeuge:Automatisiert:OpenCover}

\item[OpenCover], \textit{V. 4.5.1923}\hfill
	\\
	\\
	OpenCover ermittelt die Testabdeckung unter .NET-Sprachen ab Version 2.0. Wir nutzen es, um die Testabdeckung durch NUnit-Komponententests zu berechnen.
	
	\begin{tabbing}
		Internetseite:
		\= ~ \href {http://opencover.codeplex.com/}
	    	       {http://opencover.codeplex.com/} \\
	\end{tabbing}
	
	
	\item[ReportGenerator], \textit{V. 1.9.1.0}\hfill
	\\
	\\
	ReportGenerator erstellt zu den von OpenCover produzierten XML-Daten einen übersichtlichen Bericht. Es sind verschiedene Formate möglich. Wir erzeugen z.B. eine HTML-Ausgabe des Berichts.
	\begin{tabbing}
			Internetseite:
			\= ~ \href {http://reportgenerator.codeplex.com/}
		    	       {http://reportgenerator.codeplex.com/}
		    \\
	\end{tabbing}

	\item[Eigenentwicklung zum Generieren eines Coverage-Reports unter Mono], \textit{Aktuelle Git-Version}\hfill
	\\
	\\
	Während unser Projekt läuft ist ein automatisch von unserem Server erstellte Bericht über die Testabdeckung unter der Internetadresse
	
	\begin{tabbing}
			\= ~ \href {http://www.knot3.de/development/coverage.php}
					   {http://www.knot3.de/development/coverage.php}
					   
	\end{tabbing} erreichbar.
	Dieser wird von einer Eigenentwicklung generiert, dessen Quellcode in einem GitHub-Repository unter
	\begin{tabbing}
			\= ~ \href {https://github.com/knot3/CSharpCoverage}
					   {https://github.com/knot3/CSharpCoverage}
					   
	\end{tabbing} bereitgestellt wird.
	\\
	
	\item[Travis Continuous Integration (TCI)] \hfill
	\\
	
	Für private GitHub-Repositories gibt es mit TCI die Möglichkeit nach jedem Commit Tests laufen zu lassen.
	Führt eine Änderung zu Fehlern in bereits vorhandenen Testfällen wird dies in einer E-Mail über die Testzustände nach dem Commit an den Entwickler mitgeteilt. Der Verlauf von fehlerfreien und fehlerhafter Commits ist während der Laufzeit des Projekts unter
	
	\begin{tabbing}
			\= ~ \href {https://travis-ci.org/pse-knot/knot3-code/builds}
		    {https://travis-ci.org/pse-knot/knot3-code/builds}
		   
	\end{tabbing} abrufbar.
	\\
	

\end{description}


